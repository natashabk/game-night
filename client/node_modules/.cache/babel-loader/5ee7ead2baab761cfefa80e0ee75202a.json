{"ast":null,"code":"// reducers.js\nimport { CREATE_ROOM_SUCCESS, JOIN_ROOM_SUCCESS, SET_USERNAME, SET_AVATAR, UPDATE_CHAT_LOG } from './actions';\nconst initialState = {\n  room: null,\n  chatLog: [],\n  username: null,\n  avatar: null,\n  players: []\n};\nexport default function chatReducer(state, action) {\n  if (typeof state === 'undefined') {\n    return initialState;\n  }\n\n  switch (action.type) {\n    case CREATE_ROOM_SUCCESS:\n      state.room = action.payload;\n      break;\n\n    case JOIN_ROOM_SUCCESS:\n      state.room = action.payload.room;\n      state.players = action.payload.players;\n      break;\n\n    case SET_USERNAME:\n      state.username = action.username;\n      break;\n\n    case SET_AVATAR:\n      state.avatar = action.avatar;\n      break;\n\n    case UPDATE_CHAT_LOG:\n      if (state.room !== null && action.update.roomId === state.room.id) {\n        state.chatLog = [...state.chatLog, action.update.data];\n      }\n\n      break;\n\n    default:\n  }\n\n  return state;\n}","map":{"version":3,"sources":["/Users/salt/dev/game-night/client/src/utils/reducer.js"],"names":["CREATE_ROOM_SUCCESS","JOIN_ROOM_SUCCESS","SET_USERNAME","SET_AVATAR","UPDATE_CHAT_LOG","initialState","room","chatLog","username","avatar","players","chatReducer","state","action","type","payload","update","roomId","id","data"],"mappings":"AAAA;AAEA,SACEA,mBADF,EAEEC,iBAFF,EAGEC,YAHF,EAIEC,UAJF,EAKEC,eALF,QAMO,WANP;AAQA,MAAMC,YAAY,GAAG;AACnBC,EAAAA,IAAI,EAAE,IADa;AAEnBC,EAAAA,OAAO,EAAE,EAFU;AAGnBC,EAAAA,QAAQ,EAAE,IAHS;AAInBC,EAAAA,MAAM,EAAE,IAJW;AAKnBC,EAAAA,OAAO,EAAE;AALU,CAArB;AAQA,eAAe,SAASC,WAAT,CAAsBC,KAAtB,EAA6BC,MAA7B,EAAsC;AACnD,MAAK,OAAOD,KAAP,KAAiB,WAAtB,EAAoC;AAClC,WAAOP,YAAP;AACD;;AAED,UAASQ,MAAM,CAACC,IAAhB;AACE,SAAKd,mBAAL;AACEY,MAAAA,KAAK,CAACN,IAAN,GAAaO,MAAM,CAACE,OAApB;AACA;;AAEF,SAAKd,iBAAL;AACEW,MAAAA,KAAK,CAACN,IAAN,GAAaO,MAAM,CAACE,OAAP,CAAeT,IAA5B;AACAM,MAAAA,KAAK,CAACF,OAAN,GAAgBG,MAAM,CAACE,OAAP,CAAeL,OAA/B;AACA;;AAEF,SAAKR,YAAL;AACEU,MAAAA,KAAK,CAACJ,QAAN,GAAiBK,MAAM,CAACL,QAAxB;AACA;;AAEF,SAAKL,UAAL;AACES,MAAAA,KAAK,CAACH,MAAN,GAAeI,MAAM,CAACJ,MAAtB;AACA;;AAEF,SAAKL,eAAL;AACE,UAAKQ,KAAK,CAACN,IAAN,KAAe,IAAf,IAAuBO,MAAM,CAACG,MAAP,CAAcC,MAAd,KAAyBL,KAAK,CAACN,IAAN,CAAWY,EAAhE,EAAqE;AACnEN,QAAAA,KAAK,CAACL,OAAN,GAAgB,CAAE,GAAGK,KAAK,CAACL,OAAX,EAAoBM,MAAM,CAACG,MAAP,CAAcG,IAAlC,CAAhB;AACD;;AACD;;AACF;AAvBF;;AA0BA,SAAOP,KAAP;AACD","sourcesContent":["// reducers.js\n\nimport {\n  CREATE_ROOM_SUCCESS,\n  JOIN_ROOM_SUCCESS,\n  SET_USERNAME,\n  SET_AVATAR,\n  UPDATE_CHAT_LOG\n} from './actions';\n\nconst initialState = {\n  room: null,\n  chatLog: [],\n  username: null,\n  avatar: null,\n  players: []\n}\n\nexport default function chatReducer( state, action ) {\n  if ( typeof state === 'undefined' ) {\n    return initialState\n  }\n\n  switch ( action.type ) {\n    case CREATE_ROOM_SUCCESS:\n      state.room = action.payload;\n      break;\n\n    case JOIN_ROOM_SUCCESS:\n      state.room = action.payload.room;\n      state.players = action.payload.players;\n      break;\n\n    case SET_USERNAME:\n      state.username = action.username;\n      break;\n\n    case SET_AVATAR:\n      state.avatar = action.avatar;\n      break;\n\n    case UPDATE_CHAT_LOG:\n      if ( state.room !== null && action.update.roomId === state.room.id ) {\n        state.chatLog = [ ...state.chatLog, action.update.data ];\n      }\n      break;\n    default:\n  }\n\n  return state\n}"]},"metadata":{},"sourceType":"module"}